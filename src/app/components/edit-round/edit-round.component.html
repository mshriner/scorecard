<form>
  <div class="full-width-center">
    <mat-form-field>
      <mat-label>Select Course</mat-label>
      <mat-select [(value)]="editingRound.courseId">
        @for (course of coursesToChooseFrom; track $index) {
        <mat-option value="{{course.id}}"
          >{{ course.name }} (Par {{ course | par }})</mat-option
        >
        }
      </mat-select>
    </mat-form-field>
  </div>

  <table mat-table [dataSource]="editingRound.strokes">
    @for (column of ROUND_TABLE_COLUMNS; track $index) {
    <ng-container [matColumnDef]="column.columnDef">
      <th mat-header-cell *matHeaderCellDef class="center-text">
        {{ column.header }}
      </th>
      <td mat-cell *matCellDef="let row; let index = index" style="text-align: center; padding-inline: 4px;">
        @switch (column.columnDef) { @case (HOLE_COL) {
        {{ index + 1 }}
        } @case (STROKES_COL) {
        <div class="hole-par-adjustment ">
          <button
            mat-icon-button
            class="plusminus"
            (click)="strokesMinusOne(index)"
          >
            <mat-icon>remove</mat-icon>
          </button>
          <mat-form-field class="par-value" subscriptSizing="dynamic">
            <input
              matInput
              type="number"
              [(ngModel)]="editingRound.strokes[index]"
              [ngModelOptions]="{ standalone: true }"
            />
          </mat-form-field>
          <button
            mat-icon-button
            class="plusminus"
            (click)="strokesPlusOne(index)"
          >
            <mat-icon>add</mat-icon>
          </button>
        </div>
        } @case (PUTTS_COL) {
        <div class="hole-par-adjustment">
          <button
            mat-icon-button
            class="plusminus"
            (click)="puttsMinusOne(index)"
          >
            <mat-icon>remove</mat-icon>
          </button>
          <mat-form-field class="par-value" subscriptSizing="dynamic">
            <input
              matInput
              type="number"
              [(ngModel)]="editingRound.putts[index]"
              [ngModelOptions]="{ standalone: true }"
            />
          </mat-form-field>
          <button
            mat-icon-button
            class="plusminus"
            (click)="puttsPlusOne(index)"
          >
            <mat-icon>add</mat-icon>
          </button>
        </div>
        } }
      </td>
    </ng-container>
    }

    <tr
      mat-header-row
      *matHeaderRowDef="ROUND_TABLE_COLUMN_IDS; sticky: true"
    ></tr>
    <tr mat-row *matRowDef="let row; columns: ROUND_TABLE_COLUMN_IDS"></tr>
  </table>

  <br />
  <div class="full-width-center">
    <button
      mat-stroked-button
      (click)="saveRound()"
      [disabled]="disableSaveButton"
    >
      Save
    </button>
  </div>
</form>
<br />
